<!DOCTYPE html>

<html lang="es"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui">


<h:head>
	<title>Resultados</title>
	<link href="./css/bootstrap.css" rel="stylesheet" type="text/css"/>
	<link href="./css/styles.css" rel="stylesheet" type="text/css"/>
</h:head>

<h:body>

	<h:form class="form-home">
	
		<h:panelGroup class="container">
		<h2><p:outputLabel>Resultados del paciente con código #{userBean.idPaciente}</p:outputLabel></h2>
			<p:dataTable var="resultadoPaciente" value="#{userBean.consultarResultadosPaciente()}" styleClass="header-amarilla" rowStyleClass="#{resultadoPaciente.alarma eq 'si' ? 'red' : null}">
	    		<p:column headerText="Fecha">
	        	<h:outputText value="#{resultadoPaciente.fecha}" />
	    		</p:column>
	    		<p:column headerText="Resultado en el test">
	        	<h:outputText value="#{resultadoPaciente.valor}" />
	    		</p:column>
	    		<p:column headerText="Porcentaje de cambio ">
	        	<h:outputText value="#{resultadoPaciente.porcentaje}" />
	    		</p:column>
			</p:dataTable>
			<br/>
		<h2><p:outputLabel>Y de sus familiares</p:outputLabel></h2>
			<p:dataTable var="resultadoFamiliar" value="#{userBean.consultarResultadosFamiliar()}" styleClass="header-amarilla" rowStyleClass="#{resultadoFamiliar.alarma eq 'si' ? 'red' : null}">
	    		<p:column headerText="Fecha">
	        	<h:outputText value="#{resultadoFamiliar.fecha}" />
	    		</p:column>
	    		<p:column headerText="Resultado en el test">
	        	<h:outputText value="#{resultadoFamiliar.valor}" />
	    		</p:column>
	    		<p:column headerText="Porcentaje de cambio ">
	        	<h:outputText value="#{resultadoFamiliar.porcentaje}" />
	    		</p:column>
	    		<p:column headerText="Alarma">
	        	<h:outputText value="#{resultadoFamiliar.alarma}" />
	    		</p:column>
			</p:dataTable>
			<br/>
			<p:chart type="line" model="#{userBean.graficoResultados()}" responsive="true"/>
			<br/>
		<p:commandButton value="Volver a la página principal" class="btn btn-success" action="home?faces-redirect=true">
		 
		</p:commandButton>
		<p:commandButton value="Mirar otros resultados" class="btn btn-success" action="resultadosUsuario?faces-redirect=true">
		<f:param name="#{userBean.idPaciente}" value="0"/>
		</p:commandButton>
		</h:panelGroup>

	</h:form>
	
</h:body>
</html>
    